## [[데이터 베이스(DB)]]의 필요성
![[데이터(Data)]]
![[정보(Information)]]
![[정보처리(Information processing)]]
DB가 필요한 이유는 정보 처리(데이터 해석)을 위함이고, 데이터 수집, 수집한 데이터를 효율적으로 저장, 정보 추출을 위해 데이터 관리를 수행한다. 즉 DB란 정보 시스템 안에서 데이터를 저장, 제공하는 핵심 역할을 수행한다

## [[데이터 베이스(DB)]]의 정의와 특징
특정 조직의 여러 사용자가 공유하여 사용할 수 있도록 통합해서 저장한 운영 [[데이터(Data)]]의 집합

[[정보(Information)]] 시스템 안에 [[데이터(Data)]]를 저장, 제공하는 핵심 역할을 수행한다.

결국, [[정보처리(Information processing)]]를 위해 존재하는 시스템이다.
![[데이터 베이스(DB)#**개념**]]
![[데이터 베이스(DB)#**특징**]]
![[데이터 베이스(DB)#**분류**]]
![[정형 데이터(Structured data)]]
![[반정형 데이터(Semi-structured data)]]
![[비정형 데이터(Unstructured data)]]
## [[데이터 베이스(DB)]] 발전
1. 마당서점의 시작
   도서: 100권
   고객: 근처 학교의 학생, 지역 주민
   업무: 회계 업무(계산기 사용), 장부에 기록
   고객 서비스: 사장이 직접 도서 안내
2. 컴퓨터의 도입(전산화)
   도서: 1,000권
   고객: 근처 학교의 학생, 지역 주민
   업무: 회계 업무(컴퓨터 사용), [[파일 시스템]]
   고객 서비스: 컴퓨터를 이용하여 도서 검색, 지원 고용
3. 지점 개설 및 데이터 베이스 구축([[DBMS(DB management service)]] 도입)
  도서: 10,000권
  고객: 서울 지역 고객
  업무: 회계 업무(컴퓨터 사용), [[데이터 베이스 시스템]] 
  고객 서비스: 클라이언트/서버 시스템으로 지점을 연결하여 도서 검색 서비스 제공
4. 홈페이지 구축(인터넷 서비스 실시)
   도서: 100,000권
   고객: 국민(전국으로 배송)
   업무: 회계/인사 업무(컴퓨터와 인터넷 사용), [[웹 데이터 베이스 시스템]]으로 지점 간 연계
   고객 서비스: 인터넷으로 도서 검색 및 주문
5. 인터넷 쇼핑몰 운영(인터넷 쇼핑몰 운영)
   도서: 1,000,000권
   고객: 국민(전국으로 배송)
   업무: 회계/인사 업무(컴퓨터와 인터넷 사용), DB 서버 여러 개 구축
   고객 서비스: 인터넷 종합 쇼핑 서비스 제공

![[파일 시스템]]

![[데이터 베이스 시스템]]
	![[DBMS(DB management service)#DBMS]]
![[네트워크 DB]]
![[계층 DB]]
![[관계 DB]]

![[웹 데이터 베이스 시스템]]

![[분산 데이터 베이스 시스템]]

## [[데이터 베이스 시스템]]의 구성
![[데이터 베이스(DB)#**구성**]]
![[데이터 베이스 스키마(Schema)]]
![[데이터 베이스 인스턴스(instance)]]
![[데이터 베이스(DB)#**개념적 구조**]]
	![[외부단계(external level)]]
	![[개념 단계(conceptual level)]]
	![[내부 단계(internal level)]]
### 구조 예
학생: 학번 - 이름, 주소, 학년
강의실: 강의실 호수 - 건물 이름 규모
교수: 교수번호 - 교수 이름, 전공, 학과
과목: 과목번호 - 과목 이름, 학점
강좌: 강좌번호 - 과목 이름, 학점, 시간, 장소, 교수번호, 강의실호수, 과목번호
등록: (학번, 과목번호) - 성적, 강좌번호

를 통해 개념 스키마, 외부 스키마(수강등록 담당 부서, 시간표 담당 부서), 내부 스키마 그리기..
### 데이터 베이스 언어
![[데이터 베이스 언어]]
![[데이터 정의어(DDL)#Data Definition Language]]
![[데이터 조작어(DML)#Data Manipulation Language]]
	![[절차적 데이터 조작어(procedural DML)]]![[비절차적 데이터 조작어(nonprocedural DML)]]
![[데이터 제어어(DCL)#Data Control Language]]

## [[관계 DB]] 모델
![[데이터 베이스 모델링]]
### 기본 개념
![[관계 데이터 모델]]

![[릴레이션(Relation)]]

![[속성(attribute)]]

![[투플(tuple))]]

![[도메인(domain)]]

![[차수(Degree)]]
![[카디널리티(cardicality)]]

![[릴레이션 스키마(Relation schema)]]

![[릴레이션 인스턴스(Relation instance)]]

| 릴레이션 용어                            | 같은 의미로 통용되는 용어 | 파일 시스템 용어 |
|:---------------------------------------- |:-------------------------:|:----------------:|
| [[릴레이션(Relation)]]                   |       테이블(Table)       |       파일       |
| [[릴레이션 스키마(Relation schema)]]     |      내포(Intension)      |       헤더       |
| [[릴레이션 인스턴스(Relation instance)]] |      외연(Extension)      |      데이터      |
| [[투플(tuple))]]                         |          행(row)          |      레코드      |
| [[속성(attribute)]]                      |        열(column)         |       필드       | 

![[키(Key)]]
	![[복합키(composite key)]]
	![[슈퍼키(Super key)]]
	![[후보키(Candidate key)]]
	![[기본키(Primary key)]]
	![[대리키(Surrogate key)]]
	![[대체키(Alternate key)]]
	![[외래키(Foreign key)]]
## [[무결성 제약조건(Integrity Constraint)]]
![[무결성 제약조건(Integrity Constraint)]]
### [[데이터 무결성(Data Integrity)]]
![[데이터 무결성(Data Integrity)#데이터 베이스(DB) 에서의 정의]]
### 종류
![[도메인 무결성 제약조건]]

![[개체 무결성 제약조건]]
![[참조 무결성 제약조건]]

## [[관계 데이터 연산]]

데이터 모델 = 데이터 구조 + 제약조건 + 연산

![[관계 데이터 연산]]
![[관계 대수]]
![[관계 해석]]

## [[데이터 모델링]]
![[데이터 모델링]]

![[개념적 데이터 모델링]]

![[논리적 데이터 모델링]]

![[개체-관계 모델(E-R model; Entity-Relationship model)]]
	![[개체(Entity)]]
	![[관계(Relationship)]]

## [[SQL(Structured Query Language)]] 실습
![[SQL(Structured Query Language)]]

![[phpMyAdmin]]

![[데이터 정의어(DDL)#SQL문 예시]]

![[데이터 조작어(DML)#SQL문 예시]]
### 예시문제
1. 고객 테이블에서 성이 김씨인 고객의 고객이름, 나이, 등급, 적립금을 검색해보자.

		select 고객이름, 나이, 등급, 적립금 from 고객 where 고객이름 LIKE ‘김%’;

2. 고객 테이블에서 고객아이디가 5자인 고객의 고객아이디, 고객이름, 등급을 검색해보자.

		select 고객아이디, 고객이름, 나이 from 고객 where 고객아이디 LIKE '_____';

3. 고객 테이블에서 나이가 아직 입력되지 않은 고객의 고객이름을 검색해보자.

		select 고객이름 from 고객 where 나이 is null;

4. 고객 테이블에서 나이가 이미 입력된 고객의 고객이름을 검색해보자.

		select 고객이름 from 고객 where 나이 is not null;

5. 고객 테이블에서 고객이름, 등급, 나이를 검색하되, 나이를 기준으로 내림차순 정렬해보자.

		select 고객이름, 등급, 나이 from 고객 order by 나이 desc;

6. 주문 테이블에서 수량이 10개 이상인 주문의 주문고객, 주문제품, 수량, 주문일자를 검색해보자. 단, 주문 제품을 기준으로 오름차순 정렬하고, 동일 제품은 수량을 기준으로 내림차순 정렬해보자.

		select 주문고객, 주문제품, 수량, 주문일자 from 주문 where 수량 >= 10 order by 주문제품 asc, 수량 desc;

7. 제품 테이블에서 모든 제품의 단가 평균을 검색해보자.

		select avg(단가) from 제품;

8. 한빛제과에서 제조한 제품의 재고량 합계를 제품 테이블에서 검색해보자.

		select sum(재고량) as “재고량 합계” from 제품 where 제조업체=‘한빛제과’;

9. 고객 테이블에 고객이 몇 명 등록되어 있는지 검색해보자.

		select count(*) as 고객수 from 고객;

10. 제품 테이블에서 제조업체의 수를 검색해보자.

		select count(distinct 제조업체) as ‘제조업체 수’ from 제품;

11. 주문 테이블에서 주문제품별 수량의 합계를 검색해보자.

		select 주문제품, sum(수량) as 총주문수량 from 주문 group by 주문제품;

12. 제품 테이블에서 제조업체별로 제조한 제품의 개수와 제품 중 가장 비싼 단가를 검색하되, 제품의 개수는 제품수라는 이름으로 출력하고 가장 비싼 단가는 최고가라는 이름으로 출력해보자.

		select 제조업체, count(*) as 제품수, max(단가) as 최고가 from 제품 group by 제조업체;

13. 제품 테이블에서 제품을 3개 이상 제조한 제조업체별로 제품의 개수와 제품 중 가장 비싼 단가를 검색해보자.

		select 제조업체, count(*) as 제품수, max(단가) as 최고가 from 제품 group by 제조업체 having count(*) >= 3;

14. 고객 테이블에서 적립금 평균이 1000원 이상인 등급에 대해 등급별 고객수와 적립금 평균을 검색해보자.

		select 등급, count(*) as 고객수, avg(적립금) as 평균적립금 from 고객 group by 등급 having avg(적립금) >= 1000;

15. 주문 테이블에서 각 주문고객이 주문한 제품의 총주문수량을 주문제품별로 검색해보자.

		select 주문고객, count(*) as 총주문수량 from 주문 group by 주문고객;

16. 판매 데이터베이스에서 banana 고객이 주문한 제품의 이름을 검색해보자.

		select 제품.제품명 from 제품, 주문 where 주문.주문고객 = banana and 주문.주문제품 = 제품.제품번호;

17. 판매 데이터베이스에서 나이가 30세 이상인 고객이 주문한 제품의 번호와 주문일자를 검색해보자.

		select 주문.주문제품, 주문.주문일자 from 주문, 고객 where 고객.고객나이 >= 30 and 주문.주문고객=고객.고객아이디;
		select 주문.주문제품, 주문.주문일자 form 고객 inner join 주문 on 고객.고객아이디=주문.주문고객 where 고객.고객나이 >= 30;

18. 판매 데이터베이스에서 고명석 고객이 주문한 제품의 제품명을 검색해보자.

		select 제품.제품명 from 고객, 주문, 제품, where 주문.고객이름 = ‘고명석’ and 고객.고객아이디 = 주문.주문고객 and 주문.주문제품=제품.제품번호;

19. 판매 데이터베이스에서 달콤비스킷을 생산한 제조업체가 만든 제품들의 제품명과 단가를 검색해보자.

		select 제품명, 단가 from 제품 where 제조업체=(select 제조업체 from 제품 where 제품명=‘달콤비스킷’);

20. 판매 데이터베이스에서 적립금이 가장 많은 고객의 고객이름과 적립금을 검색해보자.

		select 고객이름, 적립금 from 고객 where 적립금=(select max(적립금) from 고객);

21. 판매 데이터베이스에서 banana 고객이 주문한 제품의 제품명과 제조업체를 검색해보자.

		select 제품명, 제조업체 from 제품 where 제품번호 in (select 주문제품 from 주문 where 주문고객=‘banana’);

22. 판매 데이터베이스에서 banana 고객이 주문하지 않은 제품의 제품명과 제조업체를 검색해보자.

		select 제품명, 제조업체 from 제품 where 제품번호 not in (select 주문제품 from 주문 where 주문고객=‘banana’);

23. 판매 데이터베이스에서 대한식품이 제조한 모든 제품의 단가보다 비싼 제품의 제품명, 단가, 제조업체를 검색해보자.

		select 제품명, 단가, 제조업체 from 제품 where 단가 > all(select 단가 from 제품 where 제조업체=‘대한식품’);

24. 판매 데이터베이스에서 2022년 3월 15일에 제품을 주문한 고객의 고객이름을 검색해보자.

		select 고객이름 from 고객 where exists (select * from 주문 where 주문일자='2022-03-15' and 주문.주문고객=고객.고객아이디);
		select 고객이름 from 고객 where 고객아이디 in (select 주문고객 from 주문 where 주문일자=‘2022-03-15’);

25. 판매 데이터베이스에서 2022년 3월 15일에 제품을 주문하지 않은 고객의 고객이름을 검색해보자.

		select 고객이름 from 고객 where 고객아이디 not in (select 주문고객 from 주문 where 주문일자='2022-03-15');
		select 고객이름 from 고객 where not exists (select * from 주문 where 주문일자='2022-03-15' and 주문.주문고객=고객.고객아이디);

26. 제품을 30개 이상 주문한 고객의 아이디와 나이가 30세 이상이 고객의 아이디를 검색하시오.

		select 고객아이디 from 고객 where 나이 >= 30 union select 주문고객 from 주문 where 수량 >= 30;

27. 나이가 30세 이상인 고객의 아이디에서 제품을 30개 이상 주문한 고객의 아이디를 빼고 검색하시오.

		select 주문고객 from 주문 where 수량>=30 and 주문고객 not in(select 고객아이디 from 고객 where 나이>=30);

28. 나이가 30세 이상이고, 제품을 30개 이상 주문한 고객의 아이디를 검색하시오.

		select 주문고객 from 주문 where 수량>=30 and 주문고객 in (select 고객아이디 from 고객 where 나이>=30);

29. 고객테이블에서 등급이 vip인 고객의 고객아이디, 고객이름, 나이, 등급으로 구성된 뷰를 우수고객이라는 이름으로 생성해보자. 그런 다음 우수고객 뷰의 모든 내용을 검색해보자.

		create view 우수고객(고객아이디, 고객이름, 나이, 등급) as select 고객아이디, 고객이름, 나이, 등급 from 고객 where 등급='vip' with check option;
		select * from 우수고객;

30. 제품 테이블에서 제조업체별로 제품수로 구성된 뷰를 업체별제품수라는 이름으로 생성해보자. 그런 다음 업체별제품수 뷰의 모든 내용을 검색해보자.

		create view 업체별제품수(제조업체, 제품수) as select 제조업체, count(*) from 제품 group by 제조업체 with check option;
		select * from 업체별제품수;

31. 제품번호가 p08, 재고량이 1000, 제조업체가 신선식품인 제품의 정보를 제품1 뷰에 삽입해보자. 그런다음 제품1 뷰에 있는 모든 내용을 검색해보자.

		insert into 제품1 values (‘p08’, 1000, ‘신선식품’);

## [[데이버 베이스 설계]]
![[데이버 베이스 설계]]

## 정규화의 개념, 이상현상, 함수 종속
### [[이상(anomaly) 현상]]
![[이상(anomaly) 현상]]
### [[함수적 종속성(FD; Functional Dependency)]]
![[함수적 종속성(FD; Functional Dependency)]]
### [[데이터 정규화]]
![[데이터 정규화]]
